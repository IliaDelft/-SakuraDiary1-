<!doctype html><html lang="ru"><meta charset="utf-8">
<title>–ü—É–±–ª–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å ‚Äî Sakura</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap&subset=cyrillic-ext" rel="stylesheet">
<style>
  :root{--bg:#fff8fb;--panel:#ffeef6;--ink:#2b2b2b;--line:#f5cfe0}
  body{margin:0;background:var(--bg);font:15px/1.55 'Manrope', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;color:var(--ink)}
  .wrap{max-width:860px;margin:24px auto;padding:0 16px}
  .card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:16px}
  h1{font-size:22px;margin:0 0 10px;font-weight:800}
  pre{white-space:pre-wrap;word-wrap:break-word;background:#fff;border:1px dashed var(--line);padding:12px;border-radius:12px}
</style>
<div class="wrap">
  <h1>üå∏ –ü—É–±–ª–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å Sakura</h1>
  <div id="out" class="card">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
</div>
<script>
(async ()=>{
  const id = new URLSearchParams(location.search).get('id');
  const out = document.getElementById('out');
  if(!id){ out.textContent='–ù–µ—Ç id'; return; }
  const res = await fetch(`/.netlify/blobs/diary/public/${id}.json`);
  if(!res.ok){ out.textContent='–ù–µ –Ω–∞–π–¥–µ–Ω–æ'; return; }
  const doc = await res.json();
  const data = doc.data || {};
  const name = data.name || '–ë–µ–∑ –∏–º–µ–Ω–∏';
  const week = data.week_start || '‚Äî';
  out.innerHTML = `<b>–ò–º—è:</b> ${escapeHtml(name)}<br><b>–ù–µ–¥–µ–ª—è:</b> ${escapeHtml(week)}<hr><b>JSON:</b>` +
    `<pre>${escapeHtml(JSON.stringify(data,null,2))}</pre>`;
  function escapeHtml(s=''){ return s.replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])) }
})();
</script>
